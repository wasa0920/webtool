<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>高機能文字カウントツール｜SNS・ライター向け</title>
    <meta name="description" content="文字数・行数・段落・漢字・ひらがな・カタカナ・英字・数字・記号を無料でカウント。読み時間も計算可能。">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:0; }
        .container { max-width:700px; margin:20px auto; background:#fff; padding:20px; border-radius:8px; }
        textarea { width:100%; height:150px; font-size:14px; padding:8px; box-sizing:border-box; }
        button { padding:10px 16px; font-size:14px; cursor:pointer; background:#007bff; color:#fff; border:none; border-radius:4px; }
        button:hover { background:#0056b3; }
        .result p { margin:4px 0; }
        .ad { margin:20px 0; text-align:center; }
        canvas { max-width:100%; }
    </style>
</head>
<body>
<div class="container">
    <h1>高機能文字カウントツール</h1>

    <!-- 広告 -->
    <div class="ad">
        <!-- admax -->
        <script src="https://adm.shinobi.jp/s/e2b74a6f9548841dad7c0afd092a0611"></script>
        <!-- admax -->
    </div>

    <form method="POST">
        <textarea name="text" placeholder="ここに文章を入力">{{ text }}</textarea><br><br>
        <button type="submit">カウント</button>
    </form>

    {% if total_count %}
    <div class="result">
        <p>文字数：{{ total_count }}</p>
        <p>行数：{{ line_count }}</p>
        <p>段落数：{{ paragraph_count }}</p>
        <p>読み時間：約{{ read_time }}分</p>
        <p>漢字：{{ types.kanji }}</p>
        <p>ひらがな：{{ types.hiragana }}</p>
        <p>カタカナ：{{ types.katakana }}</p>
        <p>英字：{{ types.alphabet }}</p>
        <p>数字：{{ types.number }}</p>
        <p>記号：{{ types.symbol }}</p>
        <p>全角文字：{{ types.zenkaku }}</p>
        <p>半角文字：{{ types.hankaku }}</p>
    </div>

    <canvas id="typeChart"></canvas>
    <script>
        const ctx = document.getElementById('typeChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['漢字','ひらがな','カタカナ','英字','数字','記号'],
                datasets: [{
                    data: [
                        {{ types.kanji }},
                        {{ types.hiragana }},
                        {{ types.katakana }},
                        {{ types.alphabet }},
                        {{ types.number }},
                        {{ types.symbol }}
                    ],
                    backgroundColor: ['#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF','#FF9F40']
                }]
            },
            options: {
                responsive:true,
                plugins:{ legend:{ position:'bottom' } }
            }
        });
    </script>
    {% endif %}

</div>
</body>
</html>
